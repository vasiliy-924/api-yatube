# Yatube API - Подробное описание

## Общее описание

Yatube API - это REST API для социальной сети, разработанное с использованием Django REST Framework. API предоставляет полный набор эндпоинтов для управления контентом социальной сети, включая посты, комментарии, группы и подписки.

## Архитектура приложения

### Основные компоненты

1. **Posts (Посты)**
   - Основная единица контента в социальной сети
   - Содержит текст, изображения, группу и автора
   - Поддерживает CRUD операции
   - Имеет систему комментариев

2. **Comments (Комментарии)**
   - Привязаны к конкретному посту
   - Содержат текст и автора
   - Поддерживают CRUD операции
   - Доступны только авторизованным пользователям

3. **Groups (Группы)**
   - Категории для постов
   - Имеют название и описание
   - Используются для организации контента


### Аутентификация и авторизация

- Используется токен-аутентификация
- Токен передается в заголовке Authorization
- Разные уровни доступа для разных операций:
  - Публичный доступ: чтение постов и комментариев
  - Авторизованный доступ: создание постов и комментариев
  - Владелец контента: редактирование и удаление

### API Endpoints

1. **Posts API**
   - GET `/api/v1/posts/` - список всех постов
   - POST `/api/v1/posts/` - создание нового поста
   - GET `/api/v1/posts/{id}/` - получение конкретного поста
   - PUT/PATCH `/api/v1/posts/{id}/` - обновление поста
   - DELETE `/api/v1/posts/{id}/` - удаление поста

2. **Comments API**
   - GET `/api/v1/posts/{post_id}/comments/` - список комментариев к посту
   - POST `/api/v1/posts/{post_id}/comments/` - создание комментария
   - GET `/api/v1/posts/{post_id}/comments/{id}/` - получение комментария
   - PUT/PATCH `/api/v1/posts/{post_id}/comments/{id}/` - обновление комментария
   - DELETE `/api/v1/posts/{post_id}/comments/{id}/` - удаление комментария

3. **Groups API**
   - GET `/api/v1/groups/` - список всех групп
   - GET `/api/v1/groups/{id}/` - получение информации о группе

## Технические детали

### Сериализация

- Используются сериализаторы Django REST Framework
- Вложенная сериализация для связанных объектов
- Валидация данных на уровне сериализаторов

### Права доступа

- Кастомные классы разрешений
- Проверка владельца контента
- Разные уровни доступа для разных операций

### Пагинация

- Стандартная пагинация для списков
- Настраиваемый размер страницы
- Поддержка параметров page и limit

### Фильтрация

- Фильтрация постов по автору
- Фильтрация постов по группе
- Поиск по тексту постов

## Безопасность

- Токен-аутентификация
- Защита от CSRF
- Валидация входных данных
- Проверка прав доступа

## Тестирование

- Модульные тесты с использованием pytest
- Тесты API с использованием pytest-django
- Тесты моделей, сериализаторов и представлений
- Проверка прав доступа и валидации 